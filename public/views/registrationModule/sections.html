<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Gestión de Secciones - UNAH Systems</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

  <!-- CSS general del módulo -->
  <link rel="stylesheet" href="../../assets/css/registrationModule/dashboard.css" />
</head>

<body>

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="brand text-center py-3">
      <img src="../../assets/unah_logo.png" width="70" class="mb-2" />
      <h5 class="fw-bold text-white mb-0">UNAH Systems</h5>
    </div>

    <nav class="px-3 mt-4">
      <a href="dashboard.html" class="nav-link">
        <i class="bi bi-house me-2"></i> Dashboard
      </a>

      <a href="periods.html" class="nav-link">
        <i class="bi bi-calendar-range me-2"></i> Periodos
      </a>

      <a href="subjects.html" class="nav-link">
        <i class="bi bi-journal-text me-2"></i> Materias
      </a>

      <a href="sections.html" class="nav-link active">
        <i class="bi bi-grid-3x3-gap-fill me-2"></i> Secciones
      </a>

      <a href="enrollment.html" class="nav-link">
        <i class="bi bi-ui-checks-grid me-2"></i> Matrícula Admin
      </a>

      <a href="../../index.php" class="nav-link text-danger mt-3">
        <i class="bi bi-box-arrow-right me-2"></i> Atras
      </a>
    </nav>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="main-content">

    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="fw-bold">Gestión de Secciones</h2>

      <button class="btn btn-primary" id="btnNuevaSeccion">
        <i class="bi bi-plus-circle"></i> Nueva Sección
      </button>
    </div>

    <!-- OFERTA ACADÉMICA -->
    <div class="card shadow-sm p-3 mb-4">

      <h5 class="fw-bold mb-3">Oferta Académica</h5>

      <div class="row mb-3">
        <div class="col-md-4">
          <label class="form-label fw-bold">Periodo</label>
          <select id="filterPeriod" class="form-select"></select>
        </div>

        <div class="col-md-4">
          <label class="form-label fw-bold">Departamento</label>
          <select id="filterDepartment" class="form-select"></select>
        </div>

        <div class="col-md-4">
          <label class="form-label fw-bold">Buscar materia</label>
          <input id="filterSearch" type="text" class="form-control" placeholder="Código o nombre...">
        </div>
      </div>

      <table class="table table-bordered table-striped" id="sectionsTable">
        <thead class="table-dark">
          <tr>
            <th>Sección</th>
            <th>Materia</th>
            <th>Docente</th>
            <th>Aula</th>
            <th>Cupo</th>
            <th>Periodo</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

    </div>

  </main>

  <!-- ===================================================== -->
  <!-- MODAL CREAR / EDITAR SECCIÓN -->
  <!-- ===================================================== -->
  <div class="modal fade" id="modalSeccion">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">

        <div class="modal-header bg-primary text-white">
          <h5 class="modal-title" id="modalSeccionTitle">Nueva Sección</h5>
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body">

          <input type="hidden" id="secId">

          <div class="row g-3">

            <div class="col-md-6">
              <label class="form-label fw-bold">Periodo</label>
              <select id="secPeriod" class="form-select"></select>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-bold">Departamento</label>
              <select id="secDepartment" class="form-select"></select>
            </div>

            <div class="col-md-12">
              <label class="form-label fw-bold">Materia</label>
              <select id="secSubject" class="form-select"></select>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-bold">Docente</label>
              <select id="secTeacher" class="form-select"></select>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-bold">Aula</label>
              <select id="secClassroom" class="form-select"></select>
            </div>

            <div class="col-md-4">
              <label class="form-label fw-bold">Cupo</label>
              <input id="secCapacity" type="number" class="form-control" min="1" placeholder="Ej: 40">
            </div>

            <div class="col-md-4">
              <label class="form-label fw-bold">Modalidad</label>
              <select id="secMode" class="form-select">
                <option value="presencial">Presencial</option>
                <option value="virtual">Virtual</option>
                <option value="mixta">Mixta</option>
              </select>
            </div>

            <div class="col-md-12">
              <label class="form-label fw-bold">Observaciones</label>
              <textarea id="secObs" class="form-control" rows="2"></textarea>
            </div>

          </div>

        </div>

        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button class="btn btn-primary" id="btnGuardarSeccion">Guardar</button>
        </div>

      </div>
    </div>
  </div>

  <!-- ===================================================== -->
  <!-- MODAL GESTIÓN DE HORARIOS -->
  <!-- ===================================================== -->
  <div class="modal fade" id="modalHorario">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header bg-dark text-white">
          <h5 class="modal-title">Gestionar Horarios</h5>
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body">

          <input type="hidden" id="scheduleSectionId">

          <div class="row g-3">

            <div class="col-md-6">
              <label class="form-label fw-bold">Hora Inicio</label>
              <input type="time" id="schStart" class="form-control">
            </div>

            <div class="col-md-6">
              <label class="form-label fw-bold">Hora Fin</label>
              <input type="time" id="schEnd" class="form-control">
            </div>

            <div class="col-md-12">
              <label class="form-label fw-bold">Días</label>
              <select id="schDays" class="form-select">
                <option value="LuMaMiJuVi">LuMaMiJuVi</option>
                <option value="LuMaMiJu">LuMaMiJu</option>
                <option value="LuMaMi">LuMaMi</option>
                <option value="LuMa">LuMa</option>
                <option value="LuMi">LuMi</option>
                <option value="LuVi">LuVi</option>
                <option value="MaJu">MaJu</option>
                <option value="MiVi">MiVi</option>
                <option value="Sa">Sa</option>
              </select>
            </div>

          </div>

          <hr>

          <h6 class="fw-bold">Horarios actuales</h6>
          <ul class="list-group" id="scheduleList"></ul>

        </div>

        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
          <button class="btn btn-success" id="btnAgregarHorario">Agregar</button>
        </div>

      </div>
    </div>
  </div>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../../assets/js/registrationModule/sections.js"></script>

</body>
</html>
