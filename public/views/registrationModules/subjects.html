<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Subjects - UNAH Systems</title>

    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <style>
        .pill {
            padding: 6px 12px;
            background: #003366;
            color: #fff;
            border-radius: 20px;
            margin: 4px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        .pill button {
            border: none;
            background: transparent;
            color: #fff;
            font-weight: bold;
            padding: 0;
        }
    </style>
</head>

<body class="bg-light">

<div class="container py-4">

    <div id="alertContainer"></div>

    <h2 class="mb-4">Subjects</h2>

    <button class="btn btn-primary mb-3" id="btnNewSubject">
        <i class="bi bi-plus-circle"></i> New Subject
    </button>

    <table class="table table-bordered table-striped" id="subjectsTable">
        <thead class="table-dark">
        <tr>
            <th>#</th>
            <th>Code</th>
            <th>Name</th>
            <th>UV</th>
            <th>Department</th>
            <th style="width:180px;">Actions</th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>

</div>

<!-- Modal Create -->
<div class="modal fade" id="modalCreateSubject">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title">Create Subject</h5>
                <button class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body">

                <form id="formCreateSubject">

                    <div class="mb-3">
                        <label class="form-label">Code</label>
                        <input type="text" class="form-control" id="createCode">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Name</label>
                        <input type="text" class="form-control" id="createName">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">UV</label>
                        <input type="number" class="form-control" id="createUv" min="1" max="8">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Department</label>
                        <select class="form-select" id="createDepartment"></select>
                    </div>

                    <hr>

                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="chkPrerequisites">
                        <label class="form-check-label fw-bold">Add prerequisites</label>
                    </div>

                    <div id="prereqAreaCreate" style="display:none;">
                        <label class="form-label">Select prerequisite</label>
                        <select id="prereqSelectCreate" class="form-select mb-2"></select>

                        <button class="btn btn-secondary btn-sm mb-3" id="btnAddPrereqCreate" type="button">
                            Add prerequisite
                        </button>

                        <div id="prereqListCreate"></div>
                    </div>

                </form>

            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button class="btn btn-primary" id="btnSaveCreate">Save</button>
            </div>

        </div>
    </div>
</div>

<!-- Modal Edit -->
<div class="modal fade" id="modalEditSubject">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header bg-warning">
                <h5 class="modal-title">Edit Subject</h5>
                <button class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body">

                <form id="formEditSubject">

                    <input type="hidden" id="editId">

                    <div class="mb-3">
                        <label class="form-label">Code</label>
                        <input type="text" class="form-control" id="editCode">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Name</label>
                        <input type="text" class="form-control" id="editName">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">UV</label>
                        <input type="number" class="form-control" id="editUv" min="1" max="8">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Department</label>
                        <select class="form-select" id="editDepartment"></select>
                    </div>

                    <hr>

                    <h6>Prerequisites</h6>

                    <label class="form-label">Select prerequisite</label>
                    <select id="prereqSelectEdit" class="form-select mb-2"></select>

                    <button class="btn btn-secondary btn-sm mb-3" id="btnAddPrereqEdit" type="button">
                        Add prerequisite
                    </button>
                    <button class="btn btn-danger btn-sm mb-3" id="btnClearPrereqEdit" type="button">
                        Remove all prerequisites
                    </button>

                    <div id="prereqListEdit"></div>

                </form>

            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button class="btn btn-warning" id="btnSaveEdit">Update</button>
            </div>

        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="../../assets/js/registrationModule/subjects.js"></script>
</body>
</html>
